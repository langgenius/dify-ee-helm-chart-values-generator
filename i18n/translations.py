"""Translation strings and language management"""

from typing import Dict, Optional

# Translation strings
TRANSLATIONS = {
    'en': {
        # Common
        'error': 'Error',
        'warning': 'Warning',
        'info': 'Info',
        'success': 'Success',
        'yes': 'Yes',
        'no': 'No',
        'default': 'Default',
        'required': 'Required',
        'optional': 'Optional',

        # Errors
        'helm_not_found': 'Helm command not found!',
        'install_helm': 'Please install Helm first:',
        'install_helm_macos': '  macOS: brew install helm',
        'install_helm_linux': '  Linux: https://helm.sh/docs/intro/install/',
        'install_helm_windows': '  Windows: https://helm.sh/docs/intro/install/',
        'or_manual_download': 'Or manually download values.yaml file and use --local parameter',
        'helm_command_failed': 'Helm command execution failed',
        'check_helm_install': 'Please check:',
        'check_1': '  1. Helm is correctly installed',
        'check_2': '  2. Network connection is normal',
        'check_3': '  3. Repository URL is correct',
        'download_failed': 'Failed to download values.yaml',
        'check_network_or_manual': 'Please check network connection or manually download values.yaml file and use --local parameter',
        'add_repo_failed': 'Failed to add Helm repository',
        'check_network_repo_url': 'Please check network connection and repository URL',
        'file_not_found': 'File not found',
        'invalid_version': 'Invalid Dify EE version',

        # Download
        'downloading_from_repo': 'Downloading values.yaml from Helm Chart repository...',
        'repository': 'Repository',
        'version': 'Version',
        'latest': 'Latest',
        'adding_repo': 'Adding Helm Chart repository',
        'getting_values': 'Getting values.yaml...',
        'detected_version': 'Detected latest version',
        'saved_to': 'values.yaml saved to',
        'using_local': 'Using local values.yaml',
        'using_cached': 'Using cached values.yaml',
        'not_found_downloading': 'values.yaml not found locally, downloading from official repository...',

        # Version selection
        'select_dify_version': 'Dify Enterprise Edition Version Selection',
        'select_version_prompt': 'Please select the Dify EE version to generate:',
        'version': 'Version',
        'description': 'Description',
        'supported_modules': 'Supported modules',
        'select_version_range': 'Please select version',
        'invalid_selection': 'Invalid selection, please enter a number between',
        'enter_valid_number': 'Please enter a valid number',
        'user_interrupted': 'User interrupted operation',
        'selected': 'Selected',

        # Generator
        'generator_title': 'Dify Helm Chart Values Generator',
        'guide_message': 'This tool will guide you through configuring values-prd.yaml',
        'helm_chart_version': 'Helm Chart version',
        'target_version': 'Target version',
        'detected_ee_version': 'Detected Dify EE version',
        'will_execute_modules': 'Will execute modules',
        'executing_module': 'Executing module',
        'chart_version_required': 'Helm Chart version is required to determine Dify EE version',
        'chart_version_required_for_local': 'Helm Chart version is required when using --local',
        'chart_version_required_help': 'Please specify --chart-version or download from repository',
        'cannot_detect_ee_version': 'Cannot detect Dify EE version from Chart version',
        'unsupported_chart_version': 'Unsupported Chart version',
        'press_ctrl_c': 'You can press Ctrl+C to exit at any time',
        'config_complete': 'Configuration Complete!',
        'config_saved_to': 'Configuration file saved to',
        'check_and_adjust': 'Please check the configuration file and adjust as needed',
        'helm_install_command': 'Then you can use: helm install <release-name> . -f values-prd.yaml',
        'save_progress': 'Save current progress?',
        'enter_filename': 'Enter filename',
        'partial_config_saved': 'Partial configuration saved to',
        'generation_error': 'Error occurred while generating configuration',
        'module_not_found': 'Configuration function not found for module',
        'skipping': 'Skipping',
        'template_loaded': 'Template file loaded',
        'using_ruamel': 'using ruamel.yaml, preserving comments and format',
        'ruamel_not_installed': 'ruamel.yaml is not installed!',
        'install_ruamel': 'Please install: pip install ruamel.yaml',
        'load_template_failed': 'Failed to load template file',
        'format_preserved': '✓ Original format, comments and quotes preserved (using ruamel.yaml)',
        'save_failed': 'Failed to save file',
        'text_replacement_warning': '⚠ Text replacement method may not perfectly preserve all formats, recommend installing ruamel.yaml',
        'file_exists_overwrite': 'already exists, overwrite?',
        'enter_new_filename': 'Enter new filename',

        # Modules
        'module_global': 'Module 1: Global Configuration',
        'module_infrastructure': 'Module 2: Infrastructure Configuration',
        'module_networking': 'Module 3: Network Configuration',
        'module_mail': 'Module 4: Mail Configuration',
        'module_plugins': 'Module 5: Plugin Configuration',
        'module_services': 'Module 6: Service Configuration',

        # Global config
        'global_affects_all': 'Global configuration affects all services',
        'secret_config': 'Secret Configuration',
        'app_secret_key_desc': 'appSecretKey is used for securely signing session cookies and encrypting sensitive database information',
        'auto_generate_openssl': 'Will be auto-generated using openssl rand -base64 42',
        'inner_api_key_desc': 'innerApiKey is the secret key for internal API calls',
        'generated': 'Generated',
        'domain_config': 'Domain Configuration',
        'empty_use_same': 'If empty, the same domain will be used',
        'console_api_domain': 'Console API Domain',
        'console_web_domain': 'Console Web Domain',
        'service_api_domain': 'Service API Domain',
        'app_api_domain': 'WebApp API Backend Domain',
        'app_web_domain': 'WebApp Domain',
        'files_domain': 'File Preview/Download Domain',
        'enterprise_domain': 'Enterprise Service Domain',
        'enable_db_migration': 'Enable database migration?',
        'rag_config': 'RAG Configuration',
        'rag_etl_type': 'RAG ETL Type',
        'keyword_data_source': 'Keyword Data Source Type Configuration',
        'important_note': 'Important Note',
        'keyword_data_source_desc': 'This configuration determines where keywords are stored during RAG keyword search (Keyword Search).',
        'option_object_storage': 'object_storage: Store keywords in object storage (e.g., MinIO, S3)',
        'option_object_storage_desc': '  - Suitable for large-scale keyword storage',
        'option_database': 'database: Store keywords in database',
        'option_database_desc': '  - Suitable for small to medium scale keyword storage',
        'option_explanation': 'Option explanation',
        'needs_object_storage': 'Requires object storage service configuration',
        'uses_postgresql': 'Uses configured PostgreSQL database',
        'select_keyword_source': 'Please select keyword data source type',
        'rag_top_k': 'RAG Top-K Maximum Value',
        'doc_segmentation_tokens': 'Document Segmentation Maximum Token Length',
        'invalid_number_use_default': 'Invalid number, using default value',
        'auto_disabled_unstructured': 'Unstructured module automatically disabled (RAG ETL type is dify)',
        'auto_enabled_unstructured': 'Unstructured module automatically enabled (RAG ETL type is Unstructured)',

        # Prompts
        'field_required': 'This field is required, please re-enter',
        'enter_y_or_n': 'Please enter y or n',
        'select_range': 'Please select',
        'enter_number_range': 'Please enter a number between',
        'postgresql_root_password': 'PostgreSQL root password',
        'redis_config': 'Redis Cache Configuration',
        'use_external_redis': 'Use external Redis?',
        'config_external_redis': 'Configure external Redis connection information',
        'redis_host': 'Redis Host Address (use host.docker.internal or host IP for kind cluster)',
        'redis_port': 'Redis Port',
        'use_ssl': 'Use SSL?',
        'redis_username': 'Redis Username (optional)',
        'redis_password': 'Redis Password',
        'redis_db_number': 'Redis Database Number',
        'use_sentinel': 'Use Redis Sentinel?',
        'use_cluster': 'Use Redis Cluster?',
        'sentinel_nodes': 'Sentinel Node List (host:port,host:port)',
        'sentinel_service_name': 'Sentinel Service Name',
        'sentinel_username': 'Sentinel Username (optional)',
        'sentinel_password': 'Sentinel Password',
        'socket_timeout': 'Socket Timeout (seconds)',
        'cluster_nodes': 'Cluster Node List (host:port,host:port)',
        'cluster_password': 'Cluster Password',
        'use_builtin_redis': 'Will use Helm Chart built-in Redis',
        'config_redis_password': 'Configure Redis password?',
        'redis_password_generated': 'Redis password generated',
        'vectordb_config': 'Vector Database Configuration',
        'use_external_vectordb': 'Use external vector database?',
        'select_vectordb_type': 'Select Vector Database Type',
        'config_external_vectordb': 'Configure external',
        'select_builtin_vectordb': 'Select Built-in Vector Database',
        'qdrant_endpoint': 'Qdrant Endpoint URL (use http://host.docker.internal:6333 for kind cluster)',
        'qdrant_api_key': 'Qdrant API Key',
        'weaviate_endpoint': 'Weaviate Endpoint URL',
        'weaviate_api_key': 'Weaviate API Key',
        'connection_info': 'connection information',

        'qdrant_replica_count': 'Qdrant Replica Count',
        'storage_config': 'Storage Configuration (Persistence)',
        'select_storage_type': 'Select Storage Type',
        's3_storage_option': 's3 (AWS S3 and S3 Compatible Protocol)',
        'other_s3_compatible': 'Other S3 Compatible Service',

        'config_local_storage': 'Configure local storage',
        'mount_path': 'Mount Path',
        'storage_class_name': 'StorageClass Name (leave empty for default)',
        'storage_size': 'Storage Size',
        'config_s3_storage': 'Configure S3 Compatible Storage (AWS S3 and S3 Compatible Protocol)',
        's3_provider': 'S3 Service Provider',
        'config_aws_s3': 'Configure AWS S3',
        'auto_disable_minio': 'Automatically disabled built-in MinIO (using AWS S3)',
        's3_endpoint_url': 'S3 Endpoint URL',
        's3_auth_method': 'AWS S3 Authentication Method',
        's3_auth_methods': 'Dify supports two ways to access AWS S3:',
        'irsa_mode_recommended': '1. IRSA Mode (Recommended): Use IAM Roles for Service Accounts, more secure',
        'access_key_mode': '2. Access Key Mode: Use Access Key and Secret Key',
        'irsa_mode': 'IRSA Mode (Recommended)',
        'access_key_mode_option': 'Access Key Mode',
        'irsa_config_note': 'IRSA Mode Configuration Instructions',
        'irsa_config_instructions': 'IRSA (IAM Roles for Service Accounts) is AWS recommended secure authentication method.',
        'irsa_config_docs': 'Detailed configuration method please refer to:',
        'irsa_config_docs_url': 'https://enterprise-docs.dify.ai/versions/3-0-x/zh-cn/deployment/cloud-infrastructure/aws-setup#三、irsa-模式配置',
        'use_irsa_mode': 'When using IRSA mode, need to configure ServiceAccount:',
        'api_serviceaccount_note': '  - api.serviceAccountName: For API service to access S3',
        'worker_serviceaccount_note': '  - worker.serviceAccountName: For Worker service to access S3',
        'irsa_mode_selected': 'IRSA mode selected, useAwsManagedIam set to true',
        'config_serviceaccount': 'Configure ServiceAccount Name (for IRSA authentication)',
        'api_serviceaccount': 'API ServiceAccount Name (for API service to access S3)',
        'worker_serviceaccount': 'Worker ServiceAccount Name (for Worker service to access S3)',
        'serviceaccount_note': 'Tip: If you need to configure ServiceAccount later, please manually edit values.yaml',
        'ensure_irsa_configured': 'Please ensure corresponding ServiceAccount and IAM Role are created and IRSA is correctly configured.',
        'access_key_config_note': 'Access Key Mode Configuration Instructions',
        'access_key_config_instructions': 'Use Access Key and Secret Key to access AWS S3.',
        'ensure_iam_permissions': 'Please ensure IAM user only has S3 access permissions.',
        'use_access_key_mode': 'Set useAwsManagedIam = false',
        'access_key': 'Access Key',
        'secret_key': 'Secret Key',
        'region': 'Region',
        'bucket_name': 'Bucket Name',
        'config_non_aws_s3': 'Configure',
        'auto_enable_minio': 'Automatically enabled built-in MinIO (useAwsS3=false)',
        'external_minio_note': 'External MinIO Configuration Instructions (Object Storage)',
        'external_minio_desc': 'Configure your self-hosted external MinIO service as object storage:',
        'minio_access_key_note': '  • Access Key = MINIO_ROOT_USER (e.g.: minioadmin)',
        'minio_secret_key_note': '  • Secret Key = MINIO_ROOT_PASSWORD (e.g.: minioadmin123)',
        'minio_auth_info': 'MinIO Authentication Information:',
        'minio_access_key': 'Access Key (MinIO: MINIO_ROOT_USER)',
        'minio_secret_key': 'Secret Key (MinIO: MINIO_ROOT_PASSWORD)',
        'address_type': 'Address Type (path-style/virtual-hosted-style, leave empty for default)',
        'config_builtin_minio': 'Configure Built-in MinIO',
        'builtin_minio_note': 'Important Note: Built-in MinIO',
        'builtin_minio_desc': 'This MinIO service is used for plugin builds, not for business object storage.',
        'business_storage_note': 'For business object storage, please use external storage service configured above.',
        'auto_generate_minio_password': 'Auto-generate MinIO root password?',
        'minio_password_generated': 'MinIO root password generated',
        'minio_root_password': 'MinIO Root Password',
        'minio_root_user': 'MinIO Root User',

        'select_mail_service_type': 'Select Mail Service Type',
        'default_sender_address': 'Default Sender Address (e.g.: no-reply <no-reply@dify.ai>)',
        'resend_api_key': 'Resend API Key',
        'resend_api_url': 'Resend API URL',
        'smtp_server': 'SMTP Server',
        'smtp_port': 'SMTP Port',
        'smtp_username': 'SMTP Username',
        'smtp_password': 'SMTP Password',

        'enterprise_service_config': 'Enterprise Service Configuration',
        'enterprise_app_secret_key_auto': 'Enterprise appSecretKey will be auto-generated using openssl rand -base64 42',
        'admin_apis_secret_key_salt_auto': 'adminAPIsSecretKeySalt will be auto-generated using openssl rand -base64 42',
        'password_encryption_key_auto': 'passwordEncryptionKey will be auto-generated using openssl rand -base64 32 (32-byte AES-256 key)',
        'license_mode': 'License Mode',
        'license_server_url': 'License Server URL',
        'service_enablement_status': 'Service Enablement Status',
        'can_skip_use_defaults': 'You can skip this section to use defaults, or adjust as needed',
        'config_service_enablement': 'Configure service enablement status?',
        'enable_service': 'Enable',

        'tls_config': 'TLS Configuration',
        'tls_config_affects': 'TLS configuration affects internal service communication and CORS settings',
        'tls_config_must_match': 'Note: TLS configuration must match Ingress configuration, otherwise CORS cross-origin issues will occur',
        'enable_tls_internal': 'Enable TLS (internal services)?',
        'tls_enabled_ingress_note': 'TLS enabled, subsequent Ingress configuration also needs to enable TLS',
        'ingress_config': 'Ingress Configuration',
        'ingress_auto_enabled': 'Ingress automatically enabled (Enterprise default configuration)',

        'select_ingress_controller_type': 'Please select Ingress Controller type:',
        'ingress_class_name': 'Ingress Class Name',
        'other': 'Other',
        'ensure_nginx_installed': 'Tip: Please ensure NGINX Ingress Controller is installed',
        'nginx_install_method': 'Installation method: kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/main/deploy/static/provider/cloud/deploy.yaml',
        'ensure_alb_installed': 'Tip: Please ensure AWS Load Balancer Controller is installed',
        'alb_install_method': 'Installation method: Refer to AWS EKS documentation to configure ALB Ingress Controller',
        'ensure_traefik_installed': 'Tip: Please ensure Traefik Ingress Controller is installed',
        'ensure_istio_installed': 'Tip: Please ensure Istio Gateway is installed',
        'enter_ingress_class_name': 'Enter Ingress Class Name',
        'global_tls_enabled_ingress_note': 'Since global TLS is enabled, it is recommended to also enable TLS in Ingress',
        'config_tls_in_ingress': 'Configure TLS in Ingress?',
        'tls_cert_config': 'TLS Certificate Configuration:',
        'cert_manager_option': '  1. Can be automatically managed by cert-manager (using annotations)',
        'manual_tls_secret_option': '  2. Or manually configure TLS Secret',
        'tls_hosts_list': 'TLS Host List (comma-separated, e.g.: dify.example.com,api.dify.example.com)',
        'tls_secret_name': 'TLS Secret Name',
        'use_cert_manager': 'Use cert-manager to automatically manage certificates?',
        'cluster_issuer_name': 'ClusterIssuer Name (e.g.: letsencrypt-prod)',
        'cert_manager_configured': 'cert-manager ClusterIssuer configured',
        'tls_inconsistency_warning': 'Warning: Global TLS is enabled but Ingress TLS is not enabled, may cause CORS issues',
        'enable_ingress_tls_now': 'Enable Ingress TLS now?',
        'tls_hosts_list_comma': 'TLS Host List (comma-separated)',
        'ingress_tls_enabled_global_not_warning': 'Warning: Ingress TLS is enabled but global TLS is not enabled, recommend keeping consistent',
        'enable_global_tls': 'Enable global TLS?',

        'does_not_support_plugins': 'does not support plugin configuration module',
        'plugin_connector_image_repo_config': 'Plugin Connector Image Repository Configuration',
        'config_plugin_connector_image_repo': 'Configure plugin connector image repository settings',
        'image_repo_type': 'Image Repository Type',
        'ecr_region': 'ECR Region (ECR Region)',
        'ecr_region_set_to': 'ECR Region set to',
        'ecr_account_id': 'ECR Account ID (AWS Account ID)',
        'ecr_prefix_format': 'ECR Image Repository Prefix Format: {account_id}.dkr.ecr.{region}.amazonaws.com/{prefix}',
        'ecr_prefix_note': 'Note: {prefix} part is optional, e.g. dify-ee or other namespace',
        'ecr_prefix_example': 'Example: 123456789012.dkr.ecr.us-east-1.amazonaws.com',
        'ecr_prefix_example_with_prefix': 'Example (with prefix): 123456789012.dkr.ecr.us-east-1.amazonaws.com/dify-ee',
        'image_repo_prefix': 'Image Repository Prefix (Image Repo Prefix)',
        'ecr_auth_method_config': 'ECR Authentication Method Configuration',
        'ecr_auth_methods': 'Dify supports two ways to access AWS ECR:',
        'ecr_irsa_mode_recommended': '  1. IRSA Mode (Recommended): Use IAM Roles for Service Accounts, more secure',
        'ecr_k8s_secret_mode': '  2. K8s Secret Mode: Use Kubernetes Secret to store credentials',
        'ecr_auth_method': 'ECR Authentication Method',
        'k8s_secret_mode': 'K8s Secret Mode',
        'ecr_irsa_serviceaccounts': 'Need to configure the following ServiceAccounts:',
        'custom_serviceaccount_note': '  - customServiceAccount: ServiceAccount for plugin builds',
        'runner_serviceaccount_note': '  - runnerServiceAccount: ServiceAccount for plugin execution',
        'custom_serviceaccount': 'customServiceAccount (Plugin Build ServiceAccount)',
        'runner_serviceaccount': 'runnerServiceAccount (Plugin Execution ServiceAccount)',
        'k8s_secret_mode_config_note': 'K8s Secret Mode Configuration Instructions',
        'k8s_secret_mode_desc': 'Use Kubernetes Secret to store AWS credentials to access ECR.',
        'image_repo_secret_desc': 'imageRepoSecret is a Kubernetes Secret used to store authentication information for accessing AWS ECR.',
        'secret_must_be_created': 'This Secret needs to be created before deployment, detailed configuration method please refer to:',
        'k8s_secret_docs_url': 'https://enterprise-docs.dify.ai/versions/3-0-x/zh-cn/deployment/cloud-infrastructure/aws-setup#步骤-2：创建-kubernetes-secret',
        'image_repo_secret_must_match': 'Note: The value of imageRepoSecret needs to match the actual deployed K8s Secret.',
        'default_image_repo_secret': 'Default in reference solution is: image-repo-secret',
        'image_repo_secret_name': 'Image Repository Secret Name',
        'docker_prefix_example': 'Image Repository Prefix Example: docker.io/your-image-repo-prefix or registry.example.com/namespace',
        'image_repo_secret_config_note': 'Image Repository Secret Configuration Instructions',
        'container_registry_docs_url': 'https://enterprise-docs.dify.ai/versions/3-0-x/zh-cn/deployment/advanced-configuration/container-registry-for-plugins#如何配置容器镜像仓库',
        'http_not_recommended': 'Note: HTTP protocol is not recommended, only as a fallback option',
        'image_repo_protocol_type': 'Image Repository Protocol Type',
        'https_recommended': 'HTTPS (Recommended)',
        'http_not_recommended_option': 'HTTP (Not Recommended, Fallback Only)',
        'http_selected': 'HTTP protocol selected (not recommended)',
        'https_selected': 'HTTPS protocol selected (recommended)',

    },
    'zh': {
        # Common
        'error': '错误',
        'warning': '警告',
        'info': '信息',
        'success': '成功',
        'yes': '是',
        'no': '否',
        'default': '默认',
        'required': '必填',
        'optional': '可选',

        # Errors
        'helm_not_found': 'Helm 命令未找到！',
        'install_helm': '请先安装 Helm:',
        'install_helm_macos': '  macOS: brew install helm',
        'install_helm_linux': '  Linux: https://helm.sh/docs/intro/install/',
        'install_helm_windows': '  Windows: https://helm.sh/docs/intro/install/',
        'or_manual_download': '或者手动下载 values.yaml 文件并使用 --local 参数',
        'helm_command_failed': 'Helm 命令执行失败',
        'check_helm_install': '请检查:',
        'check_1': '  1. Helm 是否正确安装',
        'check_2': '  2. 网络连接是否正常',
        'check_3': '  3. 仓库 URL 是否正确',
        'download_failed': '下载 values.yaml 失败',
        'check_network_or_manual': '请检查网络连接或手动下载 values.yaml 文件并使用 --local 参数',
        'add_repo_failed': '无法添加 Helm 仓库',
        'check_network_repo_url': '请检查网络连接和仓库 URL 是否正确',
        'file_not_found': '文件不存在',
        'invalid_version': '无效的 Dify EE 版本',

        # Download
        'downloading_from_repo': '正在从 Helm Chart 仓库获取 values.yaml...',
        'repository': '仓库',
        'version': '版本',
        'latest': '最新',
        'adding_repo': '添加 Helm Chart 仓库',
        'getting_values': '正在获取 values.yaml...',
        'detected_version': '检测到最新版本',
        'saved_to': 'values.yaml 已保存到',
        'using_local': '使用本地 values.yaml',
        'using_cached': '使用缓存的 values.yaml',
        'not_found_downloading': '本地未找到 values.yaml，正在从官方仓库下载...',

        # Version selection
        'select_dify_version': 'Dify Enterprise Edition 版本选择',
        'select_version_prompt': '请选择要生成的 Dify EE 版本：',
        'version': '版本',
        'description': '说明',
        'supported_modules': '支持模块',
        'select_version_range': '请选择版本',
        'invalid_selection': '无效选择，请输入',
        'enter_valid_number': '请输入有效的数字',
        'user_interrupted': '用户中断操作',
        'selected': '已选择',

        # Generator
        'generator_title': 'Dify Helm Chart Values 生成器',
        'guide_message': '此工具将引导您完成 values-prd.yaml 的配置',
        'helm_chart_version': 'Helm Chart 版本',
        'target_version': '目标版本',
        'detected_ee_version': '检测到的 Dify EE 版本',
        'will_execute_modules': '将执行的模块',
        'executing_module': '正在执行模块',
        'chart_version_required': '需要 Helm Chart 版本来确定 Dify EE 版本',
        'chart_version_required_for_local': '使用 --local 时必须指定 Helm Chart 版本',
        'chart_version_required_help': '请指定 --chart-version 或从仓库下载',
        'cannot_detect_ee_version': '无法从 Chart 版本检测 Dify EE 版本',
        'unsupported_chart_version': '不支持的 Chart 版本',
        'press_ctrl_c': '您可以随时按 Ctrl+C 退出',
        'config_complete': '配置完成!',
        'config_saved_to': '配置文件已保存到',
        'check_and_adjust': '请检查配置文件并根据需要进行调整',
        'helm_install_command': '然后可以使用: helm install <release-name> . -f values-prd.yaml',
        'save_progress': '是否保存当前进度?',
        'enter_filename': '请输入文件名',
        'partial_config_saved': '部分配置已保存到',
        'generation_error': '生成配置时出错',
        'module_not_found': '模块的配置函数未找到',
        'skipping': '跳过',
        'template_loaded': '已加载模板文件',
        'using_ruamel': '使用 ruamel.yaml，保留注释和格式',
        'ruamel_not_installed': 'ruamel.yaml 未安装！',
        'install_ruamel': '请安装: pip install ruamel.yaml',
        'load_template_failed': '加载模板文件失败',
        'format_preserved': '✓ 已保留原始格式、注释和引号（使用 ruamel.yaml）',
        'save_failed': '保存文件失败',
        'text_replacement_warning': '⚠ 文本替换方式可能无法完美保留所有格式，建议安装 ruamel.yaml',
        'file_exists_overwrite': '已存在，是否覆盖?',
        'enter_new_filename': '请输入新的文件名',

        # Modules
        'module_global': '模块 1: 全局配置',
        'module_infrastructure': '模块 2: 基础设施配置',
        'module_networking': '模块 3: 网络配置',
        'module_mail': '模块 4: 邮件配置',
        'module_plugins': '模块 5: 插件配置',
        'module_services': '模块 6: 服务配置',

        # Infrastructure
        'postgresql_config': 'PostgreSQL 数据库配置',
        'network_address_note': '网络地址说明（重要）',
        'kind_cluster_external': '如果在 kind 集群中运行，访问集群外（同一主机）的服务：',
        'use_host_docker_internal': "  • 使用 'host.docker.internal' 访问宿主机服务",
        'or_use_host_ip': '  • 或使用宿主机 IP 地址',
        'or_use_localhost': "  • 或使用 'localhost'（如果配置了端口映射）",
        'service_in_cluster': '如果服务在集群内：',
        'use_service_name_example': '  • 使用服务名，例如: postgresql.default.svc.cluster.local',
        'or_use_short_name': '  • 或使用短服务名，例如: postgresql',
        'default_external_postgres': '默认使用外部 PostgreSQL（企业版推荐配置）',
        'config_external_postgres': '配置外部 PostgreSQL 连接信息',
        'kind_cluster_tip': "提示: 如果在 kind 集群中访问宿主机服务，使用 'host.docker.internal'",
        'postgresql_address': 'PostgreSQL 地址 (kind集群外使用 host.docker.internal 或宿主机IP)',
        'postgresql_port': 'PostgreSQL 端口',
        'config_database': '配置数据库',
        'main_database': '主数据库',
        'plugin_daemon_database': '插件守护进程数据库',
        'enterprise_database': '企业版数据库',
        'audit_database': '审计数据库',
        'database_name': '数据库名',
        'username': '用户名',
        'password': '密码',
        'ssl_mode': 'SSL 模式',
        'use_builtin_postgresql': '将使用 Helm Chart 内置的 PostgreSQL',
        'config_postgresql_password': '是否配置 PostgreSQL 密码?',
        'auto_generate_password': '是否自动生成密码?',
        'postgresql_password_generated': '已生成 PostgreSQL 密码',
        'postgresql_root_password': 'PostgreSQL root 密码',
        'redis_config': 'Redis 缓存配置',
        'use_external_redis': '是否使用外部 Redis?',
        'config_external_redis': '配置外部 Redis 连接信息',
        'redis_host': 'Redis 主机地址 (kind集群外使用 host.docker.internal 或宿主机IP)',
        'redis_port': 'Redis 端口',
        'use_ssl': '是否使用 SSL?',
        'redis_username': 'Redis 用户名 (可选)',
        'redis_password': 'Redis 密码',
        'redis_db_number': 'Redis 数据库编号',
        'use_sentinel': '是否使用 Redis Sentinel?',
        'use_cluster': '是否使用 Redis Cluster?',
        'sentinel_nodes': 'Sentinel 节点列表 (host:port,host:port)',
        'sentinel_service_name': 'Sentinel 服务名',
        'sentinel_username': 'Sentinel 用户名 (可选)',
        'sentinel_password': 'Sentinel 密码',
        'socket_timeout': 'Socket 超时时间(秒)',
        'cluster_nodes': 'Cluster 节点列表 (host:port,host:port)',
        'cluster_password': 'Cluster 密码',
        'use_builtin_redis': '将使用 Helm Chart 内置的 Redis',
        'config_redis_password': '是否配置 Redis 密码?',
        'redis_password_generated': '已生成 Redis 密码',
        'vectordb_config': '向量数据库配置',
        'use_external_vectordb': '是否使用外部向量数据库?',
        'select_vectordb_type': '选择向量数据库类型',
        'config_external_vectordb': '配置外部',
        'select_builtin_vectordb': '选择内置向量数据库',
        'qdrant_endpoint': 'Qdrant 端点 URL (kind集群外使用 http://host.docker.internal:6333)',
        'qdrant_api_key': 'Qdrant API Key',
        'weaviate_endpoint': 'Weaviate 端点 URL',
        'weaviate_api_key': 'Weaviate API Key',
        'qdrant_replica_count': 'Qdrant 副本数',
        'storage_config': '存储配置 (Persistence)',
        'select_storage_type': '选择存储类型',
        'config_local_storage': '配置本地存储',
        'mount_path': '挂载路径',
        'storage_class_name': 'StorageClass 名称 (留空使用默认)',
        'storage_size': '存储大小',
        'config_s3_storage': '配置 S3 兼容存储（AWS S3 和 S3 兼容协议）',
        's3_provider': 'S3 服务提供商',
        'config_aws_s3': '配置 AWS S3',
        'auto_disable_minio': '已自动关闭内置 MinIO（使用 AWS S3）',
        's3_endpoint_url': 'S3 Endpoint URL',
        's3_auth_method': 'AWS S3 授权方式',
        's3_auth_methods': 'Dify 支持两种方式访问 AWS S3：',
        'irsa_mode_recommended': '  1. IRSA 模式（推荐）：使用 IAM Roles for Service Accounts，更安全',
        'access_key_mode': '  2. Access Key 模式：使用 Access Key 和 Secret Key',
        'irsa_mode': 'IRSA 模式（推荐）',
        'access_key_mode_option': 'Access Key 模式',
        'irsa_config_note': 'IRSA 模式配置说明',
        'irsa_config_instructions': 'IRSA (IAM Roles for Service Accounts) 是 AWS 推荐的安全认证方式。',
        'irsa_config_docs': '详细配置方法请参考：',
        'irsa_config_docs_url': 'https://enterprise-docs.dify.ai/versions/3-0-x/zh-cn/deployment/cloud-infrastructure/aws-setup#三、irsa-模式配置',
        'use_irsa_mode': '使用 IRSA 模式时，需要配置 ServiceAccount：',
        'api_serviceaccount_note': '  - api.serviceAccountName: 用于 API 服务访问 S3',
        'worker_serviceaccount_note': '  - worker.serviceAccountName: 用于 Worker 服务访问 S3',
        'irsa_mode_selected': '已选择 IRSA 模式，useAwsManagedIam 已设置为 true',
        'config_serviceaccount': '配置 ServiceAccount 名称（用于 IRSA 认证）',
        'api_serviceaccount': 'API ServiceAccount 名称 (用于 API 服务访问 S3)',
        'worker_serviceaccount': 'Worker ServiceAccount 名称 (用于 Worker 服务访问 S3)',
        'serviceaccount_note': '提示：如果稍后需要配置 ServiceAccount，请手动编辑 values.yaml',
        'ensure_irsa_configured': '请确保已创建相应的 ServiceAccount 和 IAM Role，并正确配置了 IRSA。',
        'access_key_config_note': 'Access Key 模式配置说明',
        'access_key_config_instructions': '使用 Access Key 和 Secret Key 访问 AWS S3。',
        'ensure_iam_permissions': '请确保 IAM 用户只具备 S3 访问权限。',
        'use_access_key_mode': '设置 useAwsManagedIam = false',
        'access_key': 'Access Key',
        'secret_key': 'Secret Key',
        'region': '区域',
        'bucket_name': 'Bucket 名称',
        'config_non_aws_s3': '配置',
        'auto_enable_minio': '已自动启用内置 MinIO（useAwsS3=false）',
        'external_minio_note': '外部 MinIO 配置说明（对象存储）',
        'external_minio_desc': '配置您自建的外部 MinIO 服务作为对象存储：',
        'minio_access_key_note': '  • Access Key = MINIO_ROOT_USER（例如: minioadmin）',
        'minio_secret_key_note': '  • Secret Key = MINIO_ROOT_PASSWORD（例如: minioadmin123）',
        'minio_auth_info': 'MinIO 认证信息：',
        'minio_access_key': 'Access Key (MinIO: MINIO_ROOT_USER)',
        'minio_secret_key': 'Secret Key (MinIO: MINIO_ROOT_PASSWORD)',
        'address_type': '地址类型 (path-style/virtual-hosted-style, 留空使用默认)',
        'config_builtin_minio': '配置内置 MinIO',
        'builtin_minio_note': '重要说明：内置 MinIO',
        'builtin_minio_desc': '此 MinIO 服务用于 plugin 构建，不用于业务对象存储。',
        'business_storage_note': '业务对象存储请使用上面配置的外部存储服务。',
        'auto_generate_minio_password': '是否自动生成 MinIO root 密码?',
        'minio_password_generated': '已生成 MinIO root 密码',
        'minio_root_password': 'MinIO root 密码',
        'minio_root_user': 'MinIO root 用户',

        # Global config
        'global_affects_all': '全局配置影响所有服务的运行',
        'secret_config': '密钥配置',
        'app_secret_key_desc': 'appSecretKey 用于安全签名会话cookie和加密数据库敏感信息',
        'auto_generate_openssl': '将使用 openssl rand -base64 42 自动生成',
        'inner_api_key_desc': 'innerApiKey 用于内部API调用的密钥',
        'generated': '已生成',
        'domain_config': '域名配置',
        'empty_use_same': '如果为空，将使用相同域名',
        'console_api_domain': 'Console API 域名',
        'console_web_domain': 'Console Web 域名',
        'service_api_domain': 'Service API 域名',
        'app_api_domain': 'WebApp API 后端域名',
        'app_web_domain': 'WebApp 域名',
        'files_domain': '文件预览/下载域名',
        'enterprise_domain': 'Enterprise 服务域名',
        'enable_db_migration': '是否启用数据库迁移?',
        'rag_config': 'RAG 配置',
        'rag_etl_type': 'RAG ETL 类型',
        'keyword_data_source': '关键词数据源类型配置',
        'important_note': '重要说明',
        'keyword_data_source_desc': '此配置决定 RAG 关键词检索（Keyword Search）时的关键词存储位置。',
        'option_object_storage': 'object_storage: 将关键词存储在对象存储中（如 MinIO、S3）',
        'option_object_storage_desc': '  - 适合大规模关键词存储',
        'option_database': 'database: 将关键词存储在数据库中',
        'option_database_desc': '  - 适合中小规模关键词存储',
        'option_explanation': '选项说明',
        'needs_object_storage': '需要配置对象存储服务',
        'uses_postgresql': '使用已配置的 PostgreSQL 数据库',
        'select_keyword_source': '请选择关键词数据源类型',
        'rag_top_k': 'RAG Top-K 最大值',
        'doc_segmentation_tokens': '文档分块最大token长度',
        'invalid_number_use_default': '无效的数字，使用默认值',
        'auto_disabled_unstructured': '已自动关闭 unstructured 模块（RAG ETL 类型为 dify）',
        'auto_enabled_unstructured': '已自动启用 unstructured 模块（RAG ETL 类型为 Unstructured）',
        'openssl_fallback': '无法使用 openssl 生成密钥，将使用随机字符串',

        # Prompts
        'field_required': '此字段为必填项，请重新输入',
        'enter_y_or_n': '请输入 y 或 n',
        'select_range': '请选择',
        'enter_number_range': '请输入',

        # Language selection
        'select_language': '语言选择',
        'select_language_prompt': '请选择语言 / Please select language:',
        'language_english': 'English',
        'language_chinese': '中文 (Chinese)',
        'postgresql_root_password': 'PostgreSQL root 密码',
        'redis_config': 'Redis 缓存配置',
        'use_external_redis': '是否使用外部 Redis?',
        'config_external_redis': '配置外部 Redis 连接信息',
        'redis_host': 'Redis 主机地址 (kind集群外使用 host.docker.internal 或宿主机IP)',
        'redis_port': 'Redis 端口',
        'use_ssl': '是否使用 SSL?',
        'redis_username': 'Redis 用户名 (可选)',
        'redis_password': 'Redis 密码',
        'redis_db_number': 'Redis 数据库编号',
        'use_sentinel': '是否使用 Redis Sentinel?',
        'use_cluster': '是否使用 Redis Cluster?',
        'sentinel_nodes': 'Sentinel 节点列表 (host:port,host:port)',
        'sentinel_service_name': 'Sentinel 服务名',
        'sentinel_username': 'Sentinel 用户名 (可选)',
        'sentinel_password': 'Sentinel 密码',
        'socket_timeout': 'Socket 超时时间(秒)',
        'cluster_nodes': 'Cluster 节点列表 (host:port,host:port)',
        'cluster_password': 'Cluster 密码',
        'use_builtin_redis': '将使用 Helm Chart 内置的 Redis',
        'config_redis_password': '是否配置 Redis 密码?',
        'redis_password_generated': '已生成 Redis 密码',
        'vectordb_config': '向量数据库配置',
        'use_external_vectordb': '是否使用外部向量数据库?',
        'select_vectordb_type': '选择向量数据库类型',
        'config_external_vectordb': '配置外部',
        'select_builtin_vectordb': '选择内置向量数据库',
        'qdrant_endpoint': 'Qdrant 端点 URL (kind集群外使用 http://host.docker.internal:6333)',
        'qdrant_api_key': 'Qdrant API Key',
        'weaviate_endpoint': 'Weaviate 端点 URL',
        'weaviate_api_key': 'Weaviate API Key',
        'connection_info': '连接信息',

        'qdrant_replica_count': 'Qdrant 副本数',
        'storage_config': '存储配置 (Persistence)',
        'select_storage_type': '选择存储类型',
        's3_storage_option': 's3 (AWS S3 和 S3 兼容协议)',
        'other_s3_compatible': '其他兼容S3服务',

        'config_local_storage': '配置本地存储',
        'mount_path': '挂载路径',
        'storage_class_name': 'StorageClass 名称 (留空使用默认)',
        'storage_size': '存储大小',
        'config_s3_storage': '配置 S3 兼容存储（AWS S3 和 S3 兼容协议）',
        's3_provider': 'S3 服务提供商',
        'config_aws_s3': '配置 AWS S3',
        'auto_disable_minio': '已自动关闭内置 MinIO（使用 AWS S3）',
        's3_endpoint_url': 'S3 Endpoint URL',
        's3_auth_method': 'AWS S3 授权方式',
        's3_auth_methods': 'Dify 支持两种方式访问 AWS S3：',
        'irsa_mode_recommended': '  1. IRSA 模式（推荐）：使用 IAM Roles for Service Accounts，更安全',
        'access_key_mode': '  2. Access Key 模式：使用 Access Key 和 Secret Key',
        'irsa_mode': 'IRSA 模式（推荐）',
        'access_key_mode_option': 'Access Key 模式',
        'irsa_config_note': 'IRSA 模式配置说明',
        'irsa_config_instructions': 'IRSA (IAM Roles for Service Accounts) 是 AWS 推荐的安全认证方式。',
        'irsa_config_docs': '详细配置方法请参考：',
        'irsa_config_docs_url': 'https://enterprise-docs.dify.ai/versions/3-0-x/zh-cn/deployment/cloud-infrastructure/aws-setup#三、irsa-模式配置',
        'use_irsa_mode': '使用 IRSA 模式时，需要配置 ServiceAccount：',
        'api_serviceaccount_note': '  - api.serviceAccountName: 用于 API 服务访问 S3',
        'worker_serviceaccount_note': '  - worker.serviceAccountName: 用于 Worker 服务访问 S3',
        'irsa_mode_selected': '已选择 IRSA 模式，useAwsManagedIam 已设置为 true',
        'config_serviceaccount': '配置 ServiceAccount 名称（用于 IRSA 认证）',
        'api_serviceaccount': 'API ServiceAccount 名称 (用于 API 服务访问 S3)',
        'worker_serviceaccount': 'Worker ServiceAccount 名称 (用于 Worker 服务访问 S3)',
        'serviceaccount_note': '提示：如果稍后需要配置 ServiceAccount，请手动编辑 values.yaml',
        'ensure_irsa_configured': '请确保已创建相应的 ServiceAccount 和 IAM Role，并正确配置了 IRSA。',
        'access_key_config_note': 'Access Key 模式配置说明',
        'access_key_config_instructions': '使用 Access Key 和 Secret Key 访问 AWS S3。',
        'ensure_iam_permissions': '请确保 IAM 用户只具备 S3 访问权限。',
        'use_access_key_mode': '设置 useAwsManagedIam = false',
        'access_key': 'Access Key',
        'secret_key': 'Secret Key',
        'region': '区域',
        'bucket_name': 'Bucket 名称',
        'config_non_aws_s3': '配置',
        'auto_enable_minio': '已自动启用内置 MinIO（useAwsS3=false）',
        'external_minio_note': '外部 MinIO 配置说明（对象存储）',
        'external_minio_desc': '配置您自建的外部 MinIO 服务作为对象存储：',
        'minio_access_key_note': '  • Access Key = MINIO_ROOT_USER（例如: minioadmin）',
        'minio_secret_key_note': '  • Secret Key = MINIO_ROOT_PASSWORD（例如: minioadmin123）',
        'minio_auth_info': 'MinIO 认证信息：',
        'minio_access_key': 'Access Key (MinIO: MINIO_ROOT_USER)',
        'minio_secret_key': 'Secret Key (MinIO: MINIO_ROOT_PASSWORD)',
        'address_type': '地址类型 (path-style/virtual-hosted-style, 留空使用默认)',
        'config_builtin_minio': '配置内置 MinIO',
        'builtin_minio_note': '重要说明：内置 MinIO',
        'builtin_minio_desc': '此 MinIO 服务用于 plugin 构建，不用于业务对象存储。',
        'business_storage_note': '业务对象存储请使用上面配置的外部存储服务。',
        'auto_generate_minio_password': '是否自动生成 MinIO root 密码?',
        'minio_password_generated': '已生成 MinIO root 密码',
        'minio_root_password': 'MinIO root 密码',
        'minio_root_user': 'MinIO root 用户',

        'select_mail_service_type': '选择邮件服务类型',
        'default_sender_address': '默认发件人地址 (例如: no-reply <no-reply@dify.ai>)',
        'resend_api_key': 'Resend API Key',
        'resend_api_url': 'Resend API URL',
        'smtp_server': 'SMTP 服务器',
        'smtp_port': 'SMTP 端口',
        'smtp_username': 'SMTP 用户名',
        'smtp_password': 'SMTP 密码',

        'enterprise_service_config': 'Enterprise 服务配置',
        'enterprise_app_secret_key_auto': 'Enterprise appSecretKey 将使用 openssl rand -base64 42 自动生成',
        'admin_apis_secret_key_salt_auto': 'adminAPIsSecretKeySalt 将使用 openssl rand -base64 42 自动生成',
        'password_encryption_key_auto': 'passwordEncryptionKey 将使用 openssl rand -base64 32 自动生成 (32-byte AES-256 key)',
        'license_mode': 'License 模式',
        'license_server_url': 'License 服务器 URL',
        'service_enablement_status': '服务启用状态',
        'can_skip_use_defaults': '可以跳过此部分使用默认值，或根据需要调整',
        'config_service_enablement': '是否配置服务启用状态?',
        'enable_service': '是否启用',

        'tls_config': 'TLS 配置',
        'tls_config_affects': 'TLS 配置影响内部服务通信和 CORS 设置',
        'tls_config_must_match': '注意: TLS 配置必须与 Ingress 配置一致，否则会出现 CORS 跨域问题',
        'enable_tls_internal': '是否启用 TLS (内部服务)?',
        'tls_enabled_ingress_note': '已启用 TLS，后续 Ingress 配置也需要启用 TLS',
        'ingress_config': 'Ingress 配置',
        'ingress_auto_enabled': '已自动启用 Ingress（企业版默认配置）',

        'select_ingress_controller_type': '请选择 Ingress Controller 类型：',
        'ingress_class_name': 'Ingress Class 名称',
        'other': '其他',
        'ensure_nginx_installed': '提示: 请确保已安装 NGINX Ingress Controller',
        'nginx_install_method': '安装方法: kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/main/deploy/static/provider/cloud/deploy.yaml',
        'ensure_alb_installed': '提示: 请确保已安装 AWS Load Balancer Controller',
        'alb_install_method': '安装方法: 参考 AWS EKS 文档配置 ALB Ingress Controller',
        'ensure_traefik_installed': '提示: 请确保已安装 Traefik Ingress Controller',
        'ensure_istio_installed': '提示: 请确保已安装 Istio Gateway',
        'enter_ingress_class_name': '请输入 Ingress Class 名称',
        'global_tls_enabled_ingress_note': '由于已启用全局 TLS，建议 Ingress 也启用 TLS',
        'config_tls_in_ingress': '是否在 Ingress 中配置 TLS?',
        'tls_cert_config': 'TLS 证书配置:',
        'cert_manager_option': '  1. 可以通过 cert-manager 自动管理 (使用 annotations)',
        'manual_tls_secret_option': '  2. 或者手动配置 TLS Secret',
        'tls_hosts_list': 'TLS 主机列表 (逗号分隔, 例如: dify.example.com,api.dify.example.com)',
        'tls_secret_name': 'TLS Secret 名称',
        'use_cert_manager': '是否使用 cert-manager 自动管理证书?',
        'cluster_issuer_name': 'ClusterIssuer 名称 (例如: letsencrypt-prod)',
        'cert_manager_configured': '已配置 cert-manager ClusterIssuer',
        'tls_inconsistency_warning': '警告: 全局 TLS 已启用，但 Ingress TLS 未启用，可能导致 CORS 问题',
        'enable_ingress_tls_now': '是否现在启用 Ingress TLS?',
        'tls_hosts_list_comma': 'TLS 主机列表 (逗号分隔)',
        'ingress_tls_enabled_global_not_warning': '警告: Ingress TLS 已启用，但全局 TLS 未启用，建议保持一致',
        'enable_global_tls': '是否启用全局 TLS?',

        'does_not_support_plugins': '不支持插件配置模块',
        'plugin_connector_image_repo_config': 'Plugin Connector 镜像仓库配置',
        'config_plugin_connector_image_repo': '配置插件连接器的镜像仓库设置',
        'image_repo_type': '镜像仓库类型',
        'ecr_region': 'ECR 区域 (ECR Region)',
        'ecr_region_set_to': 'ECR 区域已设置为',
        'ecr_account_id': 'ECR 账户ID (AWS Account ID)',
        'ecr_prefix_format': 'ECR 镜像仓库前缀格式: {account_id}.dkr.ecr.{region}.amazonaws.com/{prefix}',
        'ecr_prefix_note': '注意: {prefix} 部分是可选的，例如 dify-ee 或其他命名空间',
        'ecr_prefix_example': '示例: 123456789012.dkr.ecr.us-east-1.amazonaws.com',
        'ecr_prefix_example_with_prefix': '示例（带前缀）: 123456789012.dkr.ecr.us-east-1.amazonaws.com/dify-ee',
        'image_repo_prefix': '镜像仓库前缀 (Image Repo Prefix)',
        'ecr_auth_method_config': 'ECR 鉴权方式配置',
        'ecr_auth_methods': 'Dify 支持两种方式访问 AWS ECR：',
        'ecr_irsa_mode_recommended': '  1. IRSA 模式（推荐）：使用 IAM Roles for Service Accounts，更安全',
        'ecr_k8s_secret_mode': '  2. K8s Secret 模式：使用 Kubernetes Secret 存储凭证',
        'ecr_auth_method': 'ECR 鉴权方式',
        'k8s_secret_mode': 'K8s Secret 模式',
        'ecr_irsa_serviceaccounts': '需要配置以下 ServiceAccount：',
        'custom_serviceaccount_note': '  - customServiceAccount: 用于插件构建的 ServiceAccount',
        'runner_serviceaccount_note': '  - runnerServiceAccount: 用于插件运行的 ServiceAccount',
        'custom_serviceaccount': 'customServiceAccount (插件构建 ServiceAccount)',
        'runner_serviceaccount': 'runnerServiceAccount (插件运行 ServiceAccount)',
        'k8s_secret_mode_config_note': 'K8s Secret 模式配置说明',
        'k8s_secret_mode_desc': '使用 Kubernetes Secret 存储 AWS 凭证来访问 ECR。',
        'image_repo_secret_desc': 'imageRepoSecret 是一个 Kubernetes Secret，用于存放访问 AWS ECR 的认证信息。',
        'secret_must_be_created': '该 Secret 需要在部署前创建，详细配置方法请参考：',
        'k8s_secret_docs_url': 'https://enterprise-docs.dify.ai/versions/3-0-x/zh-cn/deployment/cloud-infrastructure/aws-setup#步骤-2：创建-kubernetes-secret',
        'image_repo_secret_must_match': '注意: imageRepoSecret 的值需要与实际部署的 K8s Secret 一致。',
        'default_image_repo_secret': '参考方案中默认是: image-repo-secret',
        'image_repo_secret_name': '镜像仓库 Secret 名称',
        'docker_prefix_example': '镜像仓库前缀示例: docker.io/your-image-repo-prefix 或 registry.example.com/namespace',
        'image_repo_secret_config_note': '镜像仓库 Secret 配置说明',
        'container_registry_docs_url': 'https://enterprise-docs.dify.ai/versions/3-0-x/zh-cn/deployment/advanced-configuration/container-registry-for-plugins#如何配置容器镜像仓库',
        'http_not_recommended': '注意: HTTP 协议不推荐使用，仅作为备选方案',
        'image_repo_protocol_type': '镜像仓库协议类型',
        'https_recommended': 'HTTPS (推荐)',
        'http_not_recommended_option': 'HTTP (不推荐，仅备选)',
        'http_selected': '已选择 HTTP 协议（不推荐）',
        'https_selected': '已选择 HTTPS 协议（推荐）',

    }
}

# Current language (default: English)
_current_language = 'en'


class Translations:
    """Translation manager"""

    @staticmethod
    def get(key: str, language: Optional[str] = None, **kwargs) -> str:
        """Get translated string"""
        lang = language or _current_language
        translations = TRANSLATIONS.get(lang, TRANSLATIONS['en'])
        text = translations.get(key, key)

        # Format with kwargs if provided
        if kwargs:
            try:
                return text.format(**kwargs)
            except KeyError:
                return text

        return text

    @staticmethod
    def get_available_languages() -> list:
        """Get available languages"""
        return list(TRANSLATIONS.keys())


def get_translator(language: Optional[str] = None):
    """Get translator function"""
    def translate(key: str, **kwargs) -> str:
        return Translations.get(key, language, **kwargs)
    return translate


def set_language(language: str):
    """Set current language"""
    global _current_language
    if language in TRANSLATIONS:
        _current_language = language
    else:
        _current_language = 'en'


def get_language() -> str:
    """Get current language"""
    return _current_language

